DROP TABLE FRIENDOF;
DROP TABLE FANOF;
DROP TABLE POST;
DROP TABLE ADMIRE;
DROP TABLE INTEREST;
DROP TABLE HASA;
DROP TABLE HASHTAG;
DROP TABLE MAYHAVE;
DROP TABLE COMMENT;
DROP TABLE MESSAGE;
DROP TABLE USERS;

CREATE TABLE Users
	(
	 UserId INTEGER NOT NULL,
	 Username VARCHAR(100) NOT NULL,
	 FirstName VARCHAR(50) NOT NULL,
	 LastName VARCHAR(50) NOT NULL,
	 Password VARCHAR(100) NOT NULL,
	 Affiliation VARCHAR(100),
	 Birthday TIMESTAMP,
	 PRIMARY KEY (UserId)
	)
;

CREATE TABLE Message
	(
	 MsgID INTEGER NOT NULL,
	 Sender INTEGER NOT NULL,
	 Reciever INTEGER NOT NULL,
	 Msg VARCHAR(1000),
	 PRIMARY KEY (MsgID),
	 FOREIGN KEY(Sender) REFERENCES Users(UserId),
	 FOREIGN KEY(Reciever) REFERENCES Users(UserId)
	)
;

CREATE TABLE HashTag
	(
		MsgID INTEGER NOT NULL,
		TagID INTEGER NOT NULL,
		Tag VARCHAR(100) NOT NULL,
		PRIMARY KEY(TagID),
		FOREIGN KEY(MsgID) REFERENCES Message(MsgID)
	)
;

CREATE TABLE  Interest
	(
		IId INTEGER NOT NULL,
		Interest VARCHAR(100) NOT NULL,
		PRIMARY KEY(IId)
	)
;

CREATE TABLE Comment
       (
	      CID INTEGER NOT NULL,
	      msg VARCHAR(100) NOT NULL,
	      commentor INTEGER NOT NULL,
	      PRIMARY KEY(CID),
	      FOREIGN KEY (commentor) REFERENCES Users(UserId)
	)
;

CREATE TABLE FriendOf
	(
		UserId INTEGER NOT NULL,
		FId INTEGER NOT NULL,
		FOREIGN KEY (UserId) REFERENCES Users(UserId),
		FOREIGN KEY (FId) REFERENCES Users(UserId)
	)
;

CREATE TABLE FanOf
	(
		UserId INTEGER NOT NULL,
		IId INTEGER NOT NULL,
		Strength FLOAT,
		FOREIGN KEY (UserId) REFERENCES Users(UserId),
		FOREIGN KEY (IId) REFERENCES Interest(IId)
	)
;

CREATE TABLE Post
	(
		UserId INTEGER NOT NULL,
		MsgID INTEGER NOT NULL,
		Dat TIMESTAMP NOT NULL,
		FOREIGN KEY (UserId) REFERENCES Users(UserId),
		FOREIGN KEY (MsgID)  REFERENCES Message(MsgID)
	)
;

CREATE TABLE HasA
	(
		MsgID INTEGER NOT NULL,
		TagID INTEGER NOT NULL,
		FOREIGN KEY (MsgID) REFERENCES Message(MsgID),
		FOREIGN KEY (TagID) REFERENCES HASHTAG(TagID)
	)
;

CREATE TABLE Admire
	(
		UserId INTEGER NOT NULL,
		MsgID INTEGER NOT NULL,
		FOREIGN KEY (UserId) REFERENCES Users(UserId),
		FOREIGN KEY (MsgID) REFERENCES Message(MsgID)
	)
;

CREATE TABLE MayHave
       (
               MsgID INTEGER NOT NULL,
	       CID INTEGER NOT NULL,
	       Dat TIMESTAMP NOT NULL,
	       FOREIGN KEY (MsgID) REFERENCES Message(MsgID),
	       FOREIGN KEY (CID) REFERENCES Comment(CID)
	)
;